/*
 * boot/linker.ld - Linker Script para o InfiniteOS Kernel
  * Define o layout da memória do kernel.
   */

   ENTRY(kmain)             /* Define o ponto de entrada do kernel C */

   SECTIONS
   {
           /* O kernel começa na posição 1MB (0x100000) na memória física */
               . = 0x100000;

                   /* A primeira seção: Código executável e dados de somente leitura */
                       .text :
                           {
                                       *(.multiboot)    /* Seção para o cabeçalho Multiboot (se necessário) */
                                               *(.text)         /* O código real (funções) */
                                                       *(.rodata)       /* Dados de somente leitura (constantes, strings) */
                           }

                               /* A segunda seção: Dados inicializados (variáveis globais) */
                                   .data :
                                       {
                                                   *(.data)
                                       }

                                           /* A terceira seção: Dados não inicializados (variáveis BSS) */
                                               .bss :
                                                   {
                                                               *(.bss)          /* Variáveis que devem ser inicializadas com zero */
                                                   }

                                                       /* Descarta quaisquer outras seções que o compilador possa criar */
                                                           /DISCARD/ :
                                                               {
                                                                           *(.fini)
                                                                                   *(.eh_frame)
                                                               }
   }
   
                                                               }
                                                   }
                                       }
                           }
   }